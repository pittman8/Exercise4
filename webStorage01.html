<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>HTML 5 Web Storage</title>

<link href="reset.css" type="text/css" rel="stylesheet" />

<link href="webStorage_Style.css" type="text/css" rel="stylesheet" />

<script>
window.addEventListener("load",init);

function init(){
	if(typeof(Storage)!=="undefined"){
	
	display();
	
	var button=document.getElementById("button");
	button.addEventListener("click",saveInfo);
	}
	
	else{
	//old bowser	
	}
}

function saveInfo(){
	var donutType=document.getElementById("donutType").value;
	var donutFilling=document.getElementById("donutFilling").value;
    var diameter=document.getElementById("diameter").value;
    var requests=document.getElementById("requests").value;
	
	localStorage.setItem("donutType",donutType);
	localStorage.setItem("donutFilling",donutFilling);
    localStorage.setItem("diameter",diameter);
    localStorage.setItem("requests",requests);
	
	
	display();
	
}

function display(){
	var rightBox=document.getElementById("useroutput");
	var theDonut=localStorage.getItem("donutType");
	var theFilling=localStorage.getItem("donutFilling");
    var theDiameter=localStorage.getItem("diameter");
    var theRequests=localStorage.getItem("requests");
	
    // Form has never been completed
	if(theDiameter==undefined){
		document.getElementById("useroutput").innerHTML="";
	}
	else{ document.getElementById("useroutput").innerHTML="<hr /><br /><br />Flavor: "+theDonut+"<br /><br />  Filling: "+theFilling+"<br /><br />  Diameter: "+theDiameter+"<br /><br />  Requests: "+theRequests;
	}
	
}

</script>



</head>

<body>
<br />
<div id="heading">CHOOSE YOUR DONUT</div>

<div id="main">
	<section id="userinput">
    <br>
	<hr />
    <br /><br />
    <form>
    
    <div>Flavor: <br /><input type="input" id="donutType" size="20"></div>
    <br />
    <div>Type of Filling: <br /> <input type="input" id="donutFilling" size = "20">
    </div>
    <br />
    <div>Diameter in Inches:<br /><input type="input" id="diameter" size="20">
    </div>
    <br />
    <div>Special Requests? (optional)<br /> <textarea id="requests" rows="10"></textarea></div>
    <br />
        
     <div><input type="button" id="button" value="Save"></div>
    
    </form>
    </section>
    
    
    <section id="useroutput"> 
 	<hr />
    <br /><br />
    </section>

</div>



</body>
</html>
